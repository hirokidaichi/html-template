<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<title>Namespace Test</title>
<html>
<head>
<title>Template Test</title>
<link rel="stylesheet" href="../resources/test.css" type="text/css" />
<script>
<!--
    var VERSION       = location.href.match(/version=([\d\.]+)/) ? '-'+RegExp.$1 : '';
    var PROTOTYPE     = '../lib/prototype.js';
    var UNIT_TEST     = '../lib/unittest.js';
    var SRC_DIRECTORY = '../src/';
    var TARGET_CODES  = [
        'html/template.js',
        'namespace.js',
    ];
    
    document.writeln('<script src=\"'+ PROTOTYPE +'\"><\/script>');
    document.writeln('<script src=\"'+ UNIT_TEST +'\"><\/script>');
    for(var i = 0 ,T, l = TARGET_CODES.length;i<l; i++){
        T = SRC_DIRECTORY + TARGET_CODES[i];
        document.writeln('<script src=\"'+ T +'\"><\/script>');
    }

-->
</script>
</head>
<body>
<div id="testlog"></div>
<div id="urltest"></div>

</body>
<script language="javascript" type="text/javascript">
<!--

new Test.Unit.Runner({
    testNamespace:function(){with(this){
        assert('JS.Namespace',JS.Namespace );
    }},
    testCreate:function(){with(this){
        var ns = JS.Namespace.createNamespace('XXX.YYY.ZZZ');
        assertEqual(XXX.YYY.ZZZ,ns);
        JS.Namespace.createNamespace('WWW.UUU',function(){
            assertEqual(WWW.UUU,this);
            this.MyClass = Class.create({
                initialize:function(){}    
            });
        });
        var flag =false;
        try{
            JS.Namespace.createNamespace('HTML.Template');
        }catch(e){
            flag =true
        }
        assert(flag);
        JS.Namespace.createNamespace('WWW.UUU.MyClass.Test',function(){
            assertEqual(WWW.UUU.MyClass.Test,this);
        })
    }},
    testDepends:function(){with(this){
        
        assert(JS.Namespace.depends($w('HTML.Template XXX.YYY.XXX WWW.UUU WWW.UUU.MyClass.Test')));
        assert(JS.Namespace.depends(
            'HTML.Template',
            'XXX.YYY.XXX',
            'WWW.UUU',
            'WWW.UUU.MyClass.Test'
        ));

    }},
    testUsing:function(){with(this){
        assertEqual(XXX.YYY.XXX,JS.Namespace.using('XXX.YYY.XXX'));
        JS.Namespace.using('WWW.UUU',function(){
            assertEqual(WWW.UUU,this);
            this.test = 0;
        });
        assertEqual(0 ,WWW.UUU.test);
        JS.Namespace.using('WWW.UUU',function(MyClass){
            assert(new MyClass instanceof WWW.UUU.MyClass);
            this.test2 = 0;
        });
        assertEqual(undefined ,WWW.UUU.test2);
    }}
});

-->
</script>
</html>

